<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
	body{
		padding: 1em;
	}
	table{
		border-collapse: collapse;
		margin: 1em 0;
	}
	td {
		border: solid 1px #ddd;
		padding: .5em;
	}
	</style>
</head>

<body>
	<div id="test">
		<div is="tag"></div>
		<div is="tag"></div>
		<div for="item in [1,2,3]" is="tag" xif="window" :title="'comp.title'+$index">todo is+for+if</div>
	</div>
	<div id="test2">
	</div>
	<div id="app">
		<h1>n:{{++n}} </h1>
		<small>{{compute}}</small>
		<h2 text="'text'"></h2>
		<h3 html="'html'"></h3>
		<h4 if="n%2==0">if n%2==0</h4>
		<h4 elseif="n%3==0">elseif n%3==0</h4>
		<h4 else>else</h4>
		<h5 :title="'this is title: n=' + n">attr:title</h5>
		<input autofocus model="model" on:keyup.enter="add(model);model=''">
		<table>
			<tr for="(item, i) in list" if="item.status!='delete'" :title="i">
				<td>{{i}}/{{list.length}}:{{item.status}}</td>
				<td>
					{{item.text}}
					<input model="item.text" xautofocus="">
				</td>
				<td>
					<button if="item.status!='done'" @click="item.status='done'">done</button>
					<button if="item.status=='done'" @click="item.status='open'">open</button>
					<button @click="del(i)">del</button>
				</td>
			</tr>
		</table>
		<!--  -->
		<table>
			<tr for="(item, key, index) in obj">
				<td>{{index}}</td>
				<td>{{key}}</td>
				<td>{{item}}</td>
			</tr>
		</table>
		<!--  -->
		<div for="item in list" is="tag" if="n%3==0" :title="'comp.title'+$index">todo is+for+if</div>
	</div>
	<div id="tag" style="display:none">
		<div>
			<b>h3</b>
			<button @click="n++"> {{n}} </button>
		</div>
	</div>
	<script src="vm.js"></script>
	<script>
	Vue.componment('tag', {
		template: tag.innerHTML,
		data: function() {
			return {
				n: 0,
				date: new Date
			}
		},
		methods: {
			x: function () {
				return new Date().getTime()
			}
		},
		mounted: function () {
			var self = this
			console.log(self)
		}
	})

	/*
	todo:
	V({
		el: '#app',
		data: {
			model: 'V.js',
			compute: function(){
				return this.model + '!'
			},
			sayHello: function(){
				alert('Hello, ' + this.compute)
			}
		}
	})
	*/
	vm = vue = new Vue({
		el: '#test',
		data: {
			n: 0,
			bool: true,
			model: '',
			list: [
				{ id:1, text:'todo1', status:'open', tags:['abc'] },
				{ id:2, text:'todo2', status:'open', tags:['abc'] },
				{ id:3, text:'todo3', status:'open', tags:['abc'] }
			],
			obj: {
				id: 1,
				name: 'wsf'
			}
		},
		computed: {
			compute: function () {
				return 'computed: n*2= ' + this.n * 2
			}
		},
		methods: {
			add: function (text) {
				this.list.push({
					text: text
				})
			},
			del: function (i) {
				this.list.splice(i, 1)
			}
		}
		//,
		// mounted: function(){
		// 	this.add('mounted')
		// }
	})
	// setInterval(function(){
	// 	vm.$render()
	// }, 5)
	</script>
</body>

</html>