<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
	body{
		padding: 1em;
	}
	table{
		border-collapse: collapse;
		margin: 1em 0;
	}
	td {
		border: solid 1px #ddd;
		padding: .5em;
	}
	.selected{
		color: #0f0
	}
	</style>
</head>

<body>
	<div id="test">
		<div is="tag"></div>
		<div is="tag"></div>
	</div>
	<div id="app">
		<div @click.stop="console.log('div')">
			div
			<button>button</button>
			<a href="http://baidu.com" @click.prevent.stop="console.log('a')">baidu</a>
		</div>
		<table>
			<tr>
				<td>n:{{++n}} </td>
				<td>{{compute}}</td>
				<td text="'text:'+model"></td>
				<td html="'html:'+'<b>'+model"></td>
				<td>
					<i if="n%2==0">if {{n}}%2==0</i>
					<i elseif="n%3==0">elseif {{n}}%3==0</i>
					<i else>else {{n}}</i>
				</td>
				<td :title="'this is title: ' + model">:title</td>
				<td :class={selected:model}>:class</td>
				<td :style="{color:model}">:style</td>
			</tr>
		</table>
		<!--  -->
		<table>
			<tr>
				<td colspan="3" style="text-align:center">
					<input autofocus model.number="model" @keyup.enter.prevent="add(model);model=''" @blur="console.log('blur')">
				</td>
			</tr>
			<tr for="(item, i) in list" if="item.status!='delete'">
				<td>{{i}}/{{list.length}}:{{item.status}}</td>
				<td>
					<input model="item.text" :title="item.text">
				</td>
				<td>
					<button if="item.status!='done'" @click="item.status='done'">done</button>
					<button if="item.status=='done'" @click="item.status='open'">open</button>
					<button @click="del(i)">del</button>
				</td>
			</tr>
		</table>
		<!--  -->
		<table>
			<tr for="(item, key, index) in obj">
				<td>{{index}}</td>
				<td>{{key}}</td>
				<td>{{item}}</td>
			</tr>
		</table>
		<!--  -->
		<div for="item in list" is="tag">todo is+for+if</div>
		<div>
			<div is="ul"></div>
		</div>
	</div>
	<div id="tag" style="display:none">
		<span>
			<i>tag:</i>
			<button @click="n++"> {{n}} </button>
		</span>
	</div>
	<div id="ul" style="display:none">
		<ul>
			<li v-for="item in list">
				{{item}}
				<div is="ol"></div>
			</li>
		</ul>
	</div>
	<div id="ol" style="display:none">
		<ol>
			<li v-for="item in list">
				{{item}}
			</li>
		</ol>
	</div>
	<script src="vm.js"></script>
	<script>
		Vue.componment('ul', {
			template: ul.innerHTML,
			data: {
				list: [1,2,3]
			}
		})
		Vue.componment('ol', {
			template: ol.innerHTML,
			data: {
				list: [7,8,9]
			}
		})
	</script>
	<script>
	Vue.componment('tag', {
		template: tag.innerHTML,
		data: function() {
			return {
				n: 0,
				date: new Date
			}
		},
		methods: {
			x: function () {
				return new Date().getTime()
			}
		},
		mounted: function () {
			var self = this
			console.log(self)
		}
	})

	/*
	todo:
	V({
		el: '#app',
		data: {
			model: 'V.js',
			compute: function(){
				return this.model + '!'
			},
			sayHello: function(){
				alert('Hello, ' + this.compute)
			}
		}
	})
	*/
	vm = vue = new Vue({
		el: '#app',
		data: {
			n: 0,
			bool: true,
			model: 'vm.js',
			list: [
				{ id:1, text:'todo1', status:'open', tags:['abc'] },
				{ id:2, text:'todo2', status:'open', tags:['abc'] }
			],
			obj: {
				id: 1,
				name: 'wsf'
			}
		},
		computed: {
			compute: function () {
				return 'computed:' + String(this.model).toUpperCase()
			}
		},
		methods: {
			add: function (text) {
				this.list.push({
					text: text
				})
			},
			del: function (i) {
				this.list.splice(i, 1)
			}
		}
		//,
		// mounted: function(){
		// 	this.add('mounted')
		// }
	})
	// setInterval(function(){
	// 	vm.$render()
	// }, 5)
	</script>
</body>

</html>