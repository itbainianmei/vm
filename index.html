<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
    table{
    	border-collapse: collapse;
    	margin: 1em;
    }
    td {
        border: solid 1px #ddd;
        padding: .5em;
    }
    </style>
</head>

<body>
    <div id="app">
        <table>
        	<tr if="!list.length">
        		<td>{{'没有数据'}}</td>
        	</tr>
            <tr for="(item, i) in list" if="item.status!='delete'">
            	<td>{{i}}</td>
            	<td>
            		<!-- <input model="item.text"> -->
            		{{item.text}}
            	</td>
            	<td>
            		<span for="tag in item.tags"><i is="tag" ></i></span>
            	</td>
                <td>
                	<button on:click="item.status='done'">done</button>
                	<button on:click="item.status='delete'">delete</button>
                </td>
            </tr>
        </table>
        <!--  -->
        <table>
            <tr for="(item, key, index) in obj">
                <!-- <td>{{index}}</td> -->
                <td>{{key}}</td>
                <td>{{item}}</td>
            </tr>
        </table>
        <!--  -->
        <div is="tag"></div>
    </div>
    <div id="tag" style="display:none">
        <b>{{date.getTime()}}</b>
    </div>
    <script src="vm.js"></script>
    <script>
    V.componment('tag', {
        template: tag.innerHTML,
        data: function() {
            return {
                date: new Date
            }
        }
    })

    var data = V({
        el: '#app',
        data: {
            bool: true,
            list: [
                { id:1, text:'todo1', status:'open', tags:['abc'] },
                { id:2, text:'todo2', status:'open', tags:['abc'] },
                { id:3, text:'todo3', status:'open', tags:['abc'] },
            ],
            obj: {
                id: 1,
                name: 'wsf'
            }
        }
    })
    </script>
</body>

</html>